"use strict";(self.webpackChunkmanager=self.webpackChunkmanager||[]).push([["src_app_portfolios_portfolio-detail_portfolio-detail_module_ts"],{3279:(Vo,Et,m)=>{m.r(Et),m.d(Et,{PortfolioDetailModule:()=>bo});var Fe=m(9166),i=m(5e3),Y=m(9808);let De=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[Y.ez]]}),t})();var Rt=m(7446),Ot=m(9814),mt=m(4449),xt=m(773),it=m(2638),Yt=m(4594),Ne=m(3874),be=m(7322),$t=m(7423),Ie=m(711),Ae=m(8231),Ut=m(714);const U=1e3,E=60*U,w=60*E,Z=24*w,dt=7*Z,wt=30*Z,Tt=365*Z;var pt=new Date,St=new Date;function C(t,e,n,o){function a(r){return t(r=0===arguments.length?new Date:new Date(+r)),r}return a.floor=function(r){return t(r=new Date(+r)),r},a.ceil=function(r){return t(r=new Date(r-1)),e(r,1),t(r),r},a.round=function(r){var l=a(r),u=a.ceil(r);return r-l<u-r?l:u},a.offset=function(r,l){return e(r=new Date(+r),null==l?1:Math.floor(l)),r},a.range=function(r,l,u){var h,_=[];if(r=a.ceil(r),u=null==u?1:Math.floor(u),!(r<l&&u>0))return _;do{_.push(h=new Date(+r)),e(r,u),t(r)}while(h<r&&r<l);return _},a.filter=function(r){return C(function(l){if(l>=l)for(;t(l),!r(l);)l.setTime(l-1)},function(l,u){if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!r(l););else for(;--u>=0;)for(;e(l,1),!r(l););})},n&&(a.count=function(r,l){return pt.setTime(+r),St.setTime(+l),t(pt),t(St),Math.floor(n(pt,St))},a.every=function(r){return r=Math.floor(r),isFinite(r)&&r>0?r>1?a.filter(o?function(l){return o(l)%r==0}:function(l){return a.count(0,l)%r==0}):a:null}),a}var rt=C(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});rt.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?C(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):rt:null};const Ee=rt;const j=C(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*U)},function(t,e){return(e-t)/U},function(t){return t.getUTCSeconds()});const qt=C(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*U)},function(t,e){t.setTime(+t+e*E)},function(t,e){return(e-t)/E},function(t){return t.getMinutes()});const Qt=C(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*U-t.getMinutes()*E)},function(t,e){t.setTime(+t+e*w)},function(t,e){return(e-t)/w},function(t){return t.getHours()});const at=C(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*E)/Z,t=>t.getDate()-1);function B(t){return C(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+7*n)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*E)/dt})}var st=B(0),lt=B(1),X=(B(2),B(3),B(4));const Wt=(B(5),B(6),C(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}));var Mt=C(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Mt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?C(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};const q=Mt;const Ue=C(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*E)},function(t,e){return(e-t)/E},function(t){return t.getUTCMinutes()});const we=C(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*w)},function(t,e){return(e-t)/w},function(t){return t.getUTCHours()});const Pt=C(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/Z},function(t){return t.getUTCDate()-1});function H(t){return C(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+7*n)},function(e,n){return(n-e)/dt})}var yt=H(0),ut=H(1),W=(H(2),H(3),H(4));const Qe=(H(5),H(6),C(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}));var Ct=C(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Ct.every=function(t){return isFinite(t=Math.floor(t))&&t>0?C(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};const z=Ct;function jt(t,e,n,o,a,r){const l=[[j,1,U],[j,5,5*U],[j,15,15*U],[j,30,30*U],[r,1,E],[r,5,5*E],[r,15,15*E],[r,30,30*E],[a,1,w],[a,3,3*w],[a,6,6*w],[a,12,12*w],[o,1,Z],[o,2,2*Z],[n,1,dt],[e,1,wt],[e,3,3*wt],[t,1,Tt]];function _(h,f,p){const M=Math.abs(f-h)/p,y=(0,Ae.Z)(([,,x])=>x).right(l,M);if(y===l.length)return t.every((0,Ut.ly)(h/Tt,f/Tt,p));if(0===y)return Ee.every(Math.max((0,Ut.ly)(h,f,p),1));const[F,$]=l[M/l[y-1][2]<l[y][2]/M?y-1:y];return F.every($)}return[function u(h,f,p){const M=f<h;M&&([h,f]=[f,h]);const y=p&&"function"==typeof p.range?p:_(h,f,p),F=y?y.range(h,+f+1):[];return M?F.reverse():F},_]}const[Li,vi]=jt(z,Qe,yt,Pt,we,Ue),[ke,Xe]=jt(q,Wt,st,at,Qt,qt);function Lt(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function vt(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function K(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var G,_e,Kt={"-":"",_:" ",0:"0"},L=/^\s*\d+/,ze=/^%/,Ge=/[\\^$*+?|[\]().{}]/g;function d(t,e,n){var o=t<0?"-":"",a=(o?-t:t)+"",r=a.length;return o+(r<n?new Array(n-r+1).join(e)+a:a)}function Je(t){return t.replace(Ge,"\\$&")}function tt(t){return new RegExp("^(?:"+t.map(Je).join("|")+")","i")}function et(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Ve(t,e,n){var o=L.exec(e.slice(n,n+1));return o?(t.w=+o[0],n+o[0].length):-1}function je(t,e,n){var o=L.exec(e.slice(n,n+1));return o?(t.u=+o[0],n+o[0].length):-1}function Ke(t,e,n){var o=L.exec(e.slice(n,n+2));return o?(t.U=+o[0],n+o[0].length):-1}function tn(t,e,n){var o=L.exec(e.slice(n,n+2));return o?(t.V=+o[0],n+o[0].length):-1}function en(t,e,n){var o=L.exec(e.slice(n,n+2));return o?(t.W=+o[0],n+o[0].length):-1}function te(t,e,n){var o=L.exec(e.slice(n,n+4));return o?(t.y=+o[0],n+o[0].length):-1}function ee(t,e,n){var o=L.exec(e.slice(n,n+2));return o?(t.y=+o[0]+(+o[0]>68?1900:2e3),n+o[0].length):-1}function nn(t,e,n){var o=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return o?(t.Z=o[1]?0:-(o[2]+(o[3]||"00")),n+o[0].length):-1}function on(t,e,n){var o=L.exec(e.slice(n,n+1));return o?(t.q=3*o[0]-3,n+o[0].length):-1}function rn(t,e,n){var o=L.exec(e.slice(n,n+2));return o?(t.m=o[0]-1,n+o[0].length):-1}function ne(t,e,n){var o=L.exec(e.slice(n,n+2));return o?(t.d=+o[0],n+o[0].length):-1}function an(t,e,n){var o=L.exec(e.slice(n,n+3));return o?(t.m=0,t.d=+o[0],n+o[0].length):-1}function oe(t,e,n){var o=L.exec(e.slice(n,n+2));return o?(t.H=+o[0],n+o[0].length):-1}function sn(t,e,n){var o=L.exec(e.slice(n,n+2));return o?(t.M=+o[0],n+o[0].length):-1}function ln(t,e,n){var o=L.exec(e.slice(n,n+2));return o?(t.S=+o[0],n+o[0].length):-1}function un(t,e,n){var o=L.exec(e.slice(n,n+3));return o?(t.L=+o[0],n+o[0].length):-1}function cn(t,e,n){var o=L.exec(e.slice(n,n+6));return o?(t.L=Math.floor(o[0]/1e3),n+o[0].length):-1}function hn(t,e,n){var o=ze.exec(e.slice(n,n+1));return o?n+o[0].length:-1}function fn(t,e,n){var o=L.exec(e.slice(n));return o?(t.Q=+o[0],n+o[0].length):-1}function _n(t,e,n){var o=L.exec(e.slice(n));return o?(t.s=+o[0],n+o[0].length):-1}function ie(t,e){return d(t.getDate(),e,2)}function gn(t,e){return d(t.getHours(),e,2)}function On(t,e){return d(t.getHours()%12||12,e,2)}function mn(t,e){return d(1+at.count(q(t),t),e,3)}function re(t,e){return d(t.getMilliseconds(),e,3)}function dn(t,e){return re(t,e)+"000"}function Tn(t,e){return d(t.getMonth()+1,e,2)}function pn(t,e){return d(t.getMinutes(),e,2)}function Sn(t,e){return d(t.getSeconds(),e,2)}function Mn(t){var e=t.getDay();return 0===e?7:e}function Pn(t,e){return d(st.count(q(t)-1,t),e,2)}function ae(t){var e=t.getDay();return e>=4||0===e?X(t):X.ceil(t)}function yn(t,e){return t=ae(t),d(X.count(q(t),t)+(4===q(t).getDay()),e,2)}function Cn(t){return t.getDay()}function Ln(t,e){return d(lt.count(q(t)-1,t),e,2)}function vn(t,e){return d(t.getFullYear()%100,e,2)}function Fn(t,e){return d((t=ae(t)).getFullYear()%100,e,2)}function Dn(t,e){return d(t.getFullYear()%1e4,e,4)}function Nn(t,e){var n=t.getDay();return d((t=n>=4||0===n?X(t):X.ceil(t)).getFullYear()%1e4,e,4)}function bn(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+d(e/60|0,"0",2)+d(e%60,"0",2)}function se(t,e){return d(t.getUTCDate(),e,2)}function In(t,e){return d(t.getUTCHours(),e,2)}function An(t,e){return d(t.getUTCHours()%12||12,e,2)}function En(t,e){return d(1+Pt.count(z(t),t),e,3)}function le(t,e){return d(t.getUTCMilliseconds(),e,3)}function Rn(t,e){return le(t,e)+"000"}function xn(t,e){return d(t.getUTCMonth()+1,e,2)}function Yn(t,e){return d(t.getUTCMinutes(),e,2)}function $n(t,e){return d(t.getUTCSeconds(),e,2)}function Un(t){var e=t.getUTCDay();return 0===e?7:e}function wn(t,e){return d(yt.count(z(t)-1,t),e,2)}function ue(t){var e=t.getUTCDay();return e>=4||0===e?W(t):W.ceil(t)}function Zn(t,e){return t=ue(t),d(W.count(z(t),t)+(4===z(t).getUTCDay()),e,2)}function Bn(t){return t.getUTCDay()}function qn(t,e){return d(ut.count(z(t)-1,t),e,2)}function Hn(t,e){return d(t.getUTCFullYear()%100,e,2)}function Qn(t,e){return d((t=ue(t)).getUTCFullYear()%100,e,2)}function kn(t,e){return d(t.getUTCFullYear()%1e4,e,4)}function Xn(t,e){var n=t.getUTCDay();return d((t=n>=4||0===n?W(t):W.ceil(t)).getUTCFullYear()%1e4,e,4)}function Wn(){return"+0000"}function ce(){return"%"}function he(t){return+t}function fe(t){return Math.floor(+t/1e3)}!function Vn(t){G=function We(t){var e=t.dateTime,n=t.date,o=t.time,a=t.periods,r=t.days,l=t.shortDays,u=t.months,_=t.shortMonths,h=tt(a),f=et(a),p=tt(r),M=et(r),y=tt(l),F=et(l),$=tt(u),x=et(u),P=tt(_),V=et(_),b={a:function wo(c){return l[c.getDay()]},A:function Zo(c){return r[c.getDay()]},b:function Bo(c){return _[c.getMonth()]},B:function qo(c){return u[c.getMonth()]},c:null,d:ie,e:ie,f:dn,g:Fn,G:Nn,H:gn,I:On,j:mn,L:re,m:Tn,M:pn,p:function Ho(c){return a[+(c.getHours()>=12)]},q:function Qo(c){return 1+~~(c.getMonth()/3)},Q:he,s:fe,S:Sn,u:Mn,U:Pn,V:yn,w:Cn,W:Ln,x:null,X:null,y:vn,Y:Dn,Z:bn,"%":ce},R={a:function ko(c){return l[c.getUTCDay()]},A:function Xo(c){return r[c.getUTCDay()]},b:function Wo(c){return _[c.getUTCMonth()]},B:function zo(c){return u[c.getUTCMonth()]},c:null,d:se,e:se,f:Rn,g:Qn,G:Xn,H:In,I:An,j:En,L:le,m:xn,M:Yn,p:function Go(c){return a[+(c.getUTCHours()>=12)]},q:function Jo(c){return 1+~~(c.getUTCMonth()/3)},Q:he,s:fe,S:$n,u:Un,U:wn,V:Zn,w:Bn,W:qn,x:null,X:null,y:Hn,Y:kn,Z:Wn,"%":ce},At={a:function Ao(c,O,T){var s=y.exec(O.slice(T));return s?(c.w=F.get(s[0].toLowerCase()),T+s[0].length):-1},A:function Eo(c,O,T){var s=p.exec(O.slice(T));return s?(c.w=M.get(s[0].toLowerCase()),T+s[0].length):-1},b:function Ro(c,O,T){var s=P.exec(O.slice(T));return s?(c.m=V.get(s[0].toLowerCase()),T+s[0].length):-1},B:function xo(c,O,T){var s=$.exec(O.slice(T));return s?(c.m=x.get(s[0].toLowerCase()),T+s[0].length):-1},c:function Yo(c,O,T){return gt(c,e,O,T)},d:ne,e:ne,f:cn,g:ee,G:te,H:oe,I:oe,j:an,L:un,m:rn,M:sn,p:function Io(c,O,T){var s=h.exec(O.slice(T));return s?(c.p=f.get(s[0].toLowerCase()),T+s[0].length):-1},q:on,Q:fn,s:_n,S:ln,u:je,U:Ke,V:tn,w:Ve,W:en,x:function $o(c,O,T){return gt(c,n,O,T)},X:function Uo(c,O,T){return gt(c,o,O,T)},y:ee,Y:te,Z:nn,"%":hn};function g(c,O){return function(T){var A,k,ve,s=[],N=-1,S=0,I=c.length;for(T instanceof Date||(T=new Date(+T));++N<I;)37===c.charCodeAt(N)&&(s.push(c.slice(S,N)),null!=(k=Kt[A=c.charAt(++N)])?A=c.charAt(++N):k="e"===A?" ":"0",(ve=O[A])&&(A=ve(T,k)),s.push(A),S=N+1);return s.push(c.slice(S,N)),s.join("")}}function D(c,O){return function(T){var S,I,s=K(1900,void 0,1);if(gt(s,c,T+="",0)!=T.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(O&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(I=(S=vt(K(s.y,0,1))).getUTCDay(),S=I>4||0===I?ut.ceil(S):ut(S),S=Pt.offset(S,7*(s.V-1)),s.y=S.getUTCFullYear(),s.m=S.getUTCMonth(),s.d=S.getUTCDate()+(s.w+6)%7):(I=(S=Lt(K(s.y,0,1))).getDay(),S=I>4||0===I?lt.ceil(S):lt(S),S=at.offset(S,7*(s.V-1)),s.y=S.getFullYear(),s.m=S.getMonth(),s.d=S.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),I="Z"in s?vt(K(s.y,0,1)).getUTCDay():Lt(K(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(I+5)%7:s.w+7*s.U-(I+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,vt(s)):Lt(s)}}function gt(c,O,T,s){for(var A,k,N=0,S=O.length,I=T.length;N<S;){if(s>=I)return-1;if(37===(A=O.charCodeAt(N++))){if(A=O.charAt(N++),!(k=At[A in Kt?O.charAt(N++):A])||(s=k(c,T,s))<0)return-1}else if(A!=T.charCodeAt(s++))return-1}return s}return b.x=g(n,b),b.X=g(o,b),b.c=g(e,b),R.x=g(n,R),R.X=g(o,R),R.c=g(e,R),{format:function(c){var O=g(c+="",b);return O.toString=function(){return c},O},parse:function(c){var O=D(c+="",!1);return O.toString=function(){return c},O},utcFormat:function(c){var O=g(c+="",R);return O.toString=function(){return c},O},utcParse:function(c){var O=D(c+="",!0);return O.toString=function(){return c},O}}}(t),_e=G.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ge=m(9599),jn=m(8415);function to(t){return new Date(t)}function eo(t){return t instanceof Date?+t:+new Date(+t)}function Oe(t,e,n,o,a,r,l,u,_,h){var f=(0,ge.ZP)(),p=f.invert,M=f.domain,y=h(".%L"),F=h(":%S"),$=h("%I:%M"),x=h("%I %p"),P=h("%a %d"),V=h("%b %d"),b=h("%B"),R=h("%Y");function At(g){return(_(g)<g?y:u(g)<g?F:l(g)<g?$:r(g)<g?x:o(g)<g?a(g)<g?P:V:n(g)<g?b:R)(g)}return f.invert=function(g){return new Date(p(g))},f.domain=function(g){return arguments.length?M(Array.from(g,eo)):M().map(to)},f.ticks=function(g){var D=M();return t(D[0],D[D.length-1],null==g?10:g)},f.tickFormat=function(g,D){return null==D?At:h(D)},f.nice=function(g){var D=M();return(!g||"function"!=typeof g.range)&&(g=e(D[0],D[D.length-1],null==g?10:g)),g?M(function Kn(t,e){var l,n=0,o=(t=t.slice()).length-1,a=t[n],r=t[o];return r<a&&(l=n,n=o,o=l,l=a,a=r,r=l),t[n]=e.floor(a),t[o]=e.ceil(r),t}(D,g)):f},f.copy=function(){return(0,ge.JG)(f,Oe(t,e,n,o,a,r,l,u,_,h))},f}function me(){return jn.o.apply(Oe(ke,Xe,q,Wt,st,at,Qt,qt,j,_e).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var ct=m(100);function ht(t,e){let n,o;if(void 0===e)for(const a of t)null!=a&&(void 0===n?a>=a&&(n=o=a):(n>a&&(n=a),o<a&&(o=a)));else{let a=-1;for(let r of t)null!=(r=e(r,++a,t))&&(void 0===n?r>=r&&(n=o=r):(n>r&&(n=r),o<r&&(o=r)))}return[n,o]}const Ft=Math.PI,Dt=2*Ft,Q=1e-6,no=Dt-Q;function Nt(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function de(){return new Nt}Nt.prototype=de.prototype={constructor:Nt,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,o){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+o)},bezierCurveTo:function(t,e,n,o,a,r){this._+="C"+ +t+","+ +e+","+ +n+","+ +o+","+(this._x1=+a)+","+(this._y1=+r)},arcTo:function(t,e,n,o,a){var r=this._x1,l=this._y1,u=(n=+n)-(t=+t),_=(o=+o)-(e=+e),h=r-t,f=l-e,p=h*h+f*f;if((a=+a)<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(p>Q)if(Math.abs(f*u-_*h)>Q&&a){var M=n-r,y=o-l,F=u*u+_*_,$=M*M+y*y,x=Math.sqrt(F),P=Math.sqrt(p),V=a*Math.tan((Ft-Math.acos((F+p-$)/(2*x*P)))/2),b=V/P,R=V/x;Math.abs(b-1)>Q&&(this._+="L"+(t+b*h)+","+(e+b*f)),this._+="A"+a+","+a+",0,0,"+ +(f*M>h*y)+","+(this._x1=t+R*u)+","+(this._y1=e+R*_)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,o,a,r){t=+t,e=+e,r=!!r;var l=(n=+n)*Math.cos(o),u=n*Math.sin(o),_=t+l,h=e+u,f=1^r,p=r?o-a:a-o;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+_+","+h:(Math.abs(this._x1-_)>Q||Math.abs(this._y1-h)>Q)&&(this._+="L"+_+","+h),n&&(p<0&&(p=p%Dt+Dt),p>no?this._+="A"+n+","+n+",0,1,"+f+","+(t-l)+","+(e-u)+"A"+n+","+n+",0,1,"+f+","+(this._x1=_)+","+(this._y1=h):p>Q&&(this._+="A"+n+","+n+",0,"+ +(p>=Ft)+","+f+","+(this._x1=t+n*Math.cos(a))+","+(this._y1=e+n*Math.sin(a))))},rect:function(t,e,n,o){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +o+"h"+-n+"Z"},toString:function(){return this._}};const oo=de;function J(t){return function(){return t}}function Te(t){this._context=t}function ro(t){return new Te(t)}function ao(t){return t[0]}function so(t){return t[1]}function pe(t){return t<0?-1:1}function Se(t,e,n){var o=t._x1-t._x0,a=e-t._x1,r=(t._y1-t._y0)/(o||a<0&&-0),l=(n-t._y1)/(a||o<0&&-0),u=(r*a+l*o)/(o+a);return(pe(r)+pe(l))*Math.min(Math.abs(r),Math.abs(l),.5*Math.abs(u))||0}function Me(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function bt(t,e,n){var o=t._x0,r=t._x1,l=t._y1,u=(r-o)/3;t._context.bezierCurveTo(o+u,t._y0+u*e,r-u,l-u*n,r,l)}function ft(t){this._context=t}function ye(t){this._context=t}Te.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},ft.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bt(this,this._t0,Me(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,bt(this,Me(this,n=Se(this,t,e)),n);break;default:bt(this,this._t0,n=Se(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(function Pe(t){this._context=new ye(t)}.prototype=Object.create(ft.prototype)).point=function(t,e){ft.prototype.point.call(this,e,t)},ye.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,o,a,r){this._context.bezierCurveTo(e,t,o,n,r,a)}};var Ce=m(29),co=m(7579),ho=m(8372);m(6885);const fo=["svgchart"];let _o=(()=>{class t{constructor(){this.chartPoints=[],this.chartUpdateSubject=new co.x}ngAfterViewInit(){this.d3Svg=(0,Ie.Z)(this.chartContainer.nativeElement),this.gxAttribute=this.d3Svg.append("g"),this.gxAttribute=this.gxAttribute.attr("class","x axis"),this.gyAttribute=this.d3Svg.append("g"),this.gyAttribute=this.gyAttribute.attr("class","y axis"),this.gPathAttribute=this.d3Svg.append("g"),this.gLegendAttribute=this.d3Svg.append("g"),this.chartUpdateSubscription=this.chartUpdateSubject.pipe((0,ho.b)(100)).subscribe(()=>this.updateChart()),this.chartUpdateSubject.next({})}ngOnDestroy(){this.chartUpdateSubject.complete(),this.chartUpdateSubscription.unsubscribe()}ngOnChanges(n){n.chartPoints&&!n.chartPoints.isFirstChange()&&this.chartUpdateSubject.next({})}onResize(n){n&&this.chartUpdateSubject.next({})}updateChart(){const n=isNaN(parseInt(this.d3Svg.style("width").replace(/[^0-9\.]+/g,""),10))?0:parseInt(this.d3Svg.style("width").replace(/[^0-9\.]+/g,""),10),o=isNaN(parseInt(this.d3Svg.style("height").replace(/[^0-9\.]+/g,""),10))?0:parseInt(this.d3Svg.style("height").replace(/[^0-9\.]+/g,""),10);this.d3Svg.attr("viewBox",[0,0,n,o]),o<1||n<1||!this.chartPoints||0===this.chartPoints.length||!this.chartPoints[0].chartPointList||0===this.chartPoints[0].chartPointList.length?console.log(`contentHeight: ${o} contentWidth: ${n} chartPoints: ${this.chartPoints.length}`):this.chartPoints.length<2?this.updateSingleLine(o,n):this.updateMultiLine(o,n)}updateMultiLine(n,o){const a=new Set(...this.chartPoints.map(h=>h.chartPointList.map(f=>f.x)));let r;r=this.chartPoints[0].chartPointList[0].x instanceof Date?me().domain(ht(Array.from(a),h=>h)).range([0,o-this.chartPoints[0].yScaleWidth]):(0,ct.Z)().domain([0,this.chartPoints[0].chartPointList.length-1]).nice().range([0,o-this.chartPoints[0].yScaleWidth]);const l=this.chartPoints.map(h=>h.chartPointList).reduce((h,f)=>(h.push(...f),h),[]),u=(0,ct.Z)().domain(ht(l,h=>h.y)).nice().range([n-this.chartPoints[0].xScaleHeight,0]);this.d3Svg.selectAll("path").remove();const _=this.gPathAttribute.selectAll("path").data(this.chartPoints).join("path").attr("transform","translate("+this.chartPoints[0].yScaleWidth+", 0)").style("mix-blend-mode","multiply").attr("class",h=>"line line-"+h.name.split(/[^a-zA-Z0-9\-]/)[0].toLowerCase()).datum(h=>h.chartPointList);this.updateScales(n,r,u),this.updateLegend(),console.log(this.chartPoints[0].chartPointList.length),_.attr("d",this.createLine(r,u)).attr("stroke-dasharray",100*(o-this.chartPoints[0].yScaleWidth)+" "+100*(o-this.chartPoints[0].yScaleWidth)).attr("stroke-dashoffset",100*(o-this.chartPoints[0].yScaleWidth)).transition().duration(5e3).attr("stroke-dashoffset",0)}updateLegend(){this.gLegendAttribute.selectAll("text").remove();const n=this.chartPoints.map(o=>(!!this.replaceName&&!!this.replaceSymbol&&o.name.includes(this.replaceSymbol)&&(o.name=this.replaceName),o));n.length>0&&this.gLegendAttribute.selectAll("legend").data(n).enter().append("text").attr("x",n[0].yScaleWidth+20).attr("y",(o,a)=>20+20*a).text(o=>o.name).attr("class",o=>"line line-"+o.name.split(/[^a-zA-Z0-9\-]/)[0].toLowerCase()).attr("text-anchor","left").attr("style","stroke-width: 1px !important")}updateScales(n,o,a){this.gxAttribute.attr("transform","translate("+this.chartPoints[0].yScaleWidth+","+(n-this.chartPoints[0].xScaleHeight)+")").call((0,Ce.LL)(o)),this.gyAttribute.attr("transform","translate("+this.chartPoints[0].yScaleWidth+",0)").call((0,Ce.y4)(a))}updateSingleLine(n,o){let a;a=this.chartPoints[0].chartPointList[0].x instanceof Date?me().domain(ht(this.chartPoints[0].chartPointList,u=>u.x)).range([0,o-this.chartPoints[0].yScaleWidth]):(0,ct.Z)().domain([0,this.chartPoints[0].chartPointList.length-1]).nice().range([0,o-this.chartPoints[0].yScaleWidth]);const r=(0,ct.Z)().domain(ht(this.chartPoints[0].chartPointList,u=>u.y)).nice().range([n-this.chartPoints[0].xScaleHeight,0]);this.d3Svg.selectAll("path").remove();const l=this.d3Svg.append("path").datum(this.chartPoints[0].chartPointList).attr("transform","translate("+this.chartPoints[0].yScaleWidth+", 0)").attr("class","line");this.updateScales(n,a,r),this.updateLegend(),l.attr("d",this.createLine(a,r)).attr("stroke-dasharray",100*(o-this.chartPoints[0].yScaleWidth)+" "+100*(o-this.chartPoints[0].yScaleWidth)).attr("stroke-dashoffset",100*(o-this.chartPoints[0].yScaleWidth)).transition().duration(5e3).attr("stroke-dashoffset",0)}createLine(n,o){return function lo(t,e){var n=J(!0),o=null,a=ro,r=null;function l(u){var _,f,M,h=(u=function io(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(u)).length,p=!1;for(null==o&&(r=a(M=oo())),_=0;_<=h;++_)!(_<h&&n(f=u[_],_,u))===p&&((p=!p)?r.lineStart():r.lineEnd()),p&&r.point(+t(f,_,u),+e(f,_,u));if(M)return r=null,M+""||null}return t="function"==typeof t?t:void 0===t?ao:J(t),e="function"==typeof e?e:void 0===e?so:J(e),l.x=function(u){return arguments.length?(t="function"==typeof u?u:J(+u),l):t},l.y=function(u){return arguments.length?(e="function"==typeof u?u:J(+u),l):e},l.defined=function(u){return arguments.length?(n="function"==typeof u?u:J(!!u),l):n},l.curve=function(u){return arguments.length?(a=u,null!=o&&(r=a(o)),l):a},l.context=function(u){return arguments.length?(null==u?o=r=null:r=a(o=u),l):o},l}().defined(a=>null!==a.y&&!isNaN(a.y)).x((a,r)=>n(a.x instanceof Date?a.x:r)).y(a=>o(a.y)).curve(a=>function uo(t){return new ft(t)}(a))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["sc-line-chart"]],viewQuery:function(n,o){if(1&n&&i.Gf(fo,7),2&n){let a;i.iGM(a=i.CRH())&&(o.chartContainer=a.first)}},hostBindings:function(n,o){1&n&&i.NdJ("resize",function(r){return o.onResize(r)},!1,i.Jf7)},inputs:{chartPoints:"chartPoints",replaceName:"replaceName",replaceSymbol:"replaceSymbol"},features:[i.TTD],decls:3,vars:0,consts:[[1,"d3-chart-wrapper"],[1,"d3-chart"],["svgchart",""]],template:function(n,o){1&n&&(i.TgZ(0,"div",0),i.O4$(),i._UZ(1,"svg",1,2),i.qZA())},styles:[".d3-chart[_ngcontent-%COMP%], .d3-chart-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}  .line{fill:none;stroke:#1e90ff;stroke-width:2}  .line-missing{fill:none;stroke:#7cfc00;stroke-width:2}  .overlay{fill:none;pointer-events:all}  .dot{fill:red;stroke:#fff}  .focus circle{fill:none;stroke:#00f}"]}),t})(),go=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[Y.ez]]}),t})();var _t=m(1083),It=m(8505),Oo=m(3900),mo=m(3942),To=m(1134),v=m(3603),nt=(()=>{return(t=nt||(nt={})).ALPHAVANTAGE="ALPHAVANTAGE",t.YAHOO="YAHOO",t.PORTFOLIO="PORTFOLIO",nt;var t})();let ot=(()=>{class t{static isPortfolioSymbol(n){return n.includes(t.PORTFOLIO_MARKER)}static isIntraDayDataAvailiable(n){return n&&n.source&&n.source===nt.ALPHAVANTAGE}}return t.PORTFOLIO_MARKER="\xe4\xfc\xe8",t.QuoteSource=nt,t})();var po=m(4128),Le=m(3075);function So(t,e){if(1&t&&(i.TgZ(0,"mat-radio-button",26),i._uU(1),i.qZA()),2&t){const n=e.$implicit,o=i.oxw();i.Q6J("value",n)("disabled",!o.quotesLoading&&!o.isIntraDayDataAvailiable(o.symbol)&&n.quotePeriodKey===o.quotePeriodKeyDay),i.xp6(1),i.hij(" ",n.periodText," ")}}function Mo(t,e){1&t&&(i.TgZ(0,"div",27),i.TgZ(1,"div",28),i._uU(2,"Please select an instrument"),i.qZA(),i.qZA())}function Po(t,e){if(1&t&&(i.TgZ(0,"div",29,30),i._UZ(2,"sc-line-chart",31),i.qZA()),2&t){const n=i.oxw();i.xp6(2),i.Q6J("chartPoints",n.chartPoints)("replaceName",n.portfolioName)("replaceSymbol",n.portfolioSymbol)}}let yo=(()=>{class t{constructor(n,o,a){this.quoteService=n,this.document=o,this.locale=a,this.dayInMs=864e5,this.hourInMs=36e5,this.quotePeriods=[],this.selQuotePeriod=null,this.quotes=[],this.compIndexes=new Map([[v.v.SP500,[]],[v.v.EUROSTOXX50,[]],[v.v.MSCI_CHINA,[]]]),this.quotesLoading=!0,this.symbolData={avgVolume:null,close:null,end:null,high:null,low:null,open:null,start:null,avgClose:null,medianClose:null,volatilityClose:null},this.loadingData=new i.vpe,this.quotePeriodKeyDay=0,this.ComparisonIndex=v.v,this.showSP500=!1,this.showMsciCH=!1,this.showES50=!1,this.chartPoints=[{chartPointList:[],name:"",xScaleHeight:20,yScaleWidth:50}],this.portfolioName=null,this.portfolioSymbol=null}ngOnInit(){this.quotePeriods=[{quotePeriodKey:0,periodText:"IntraDay"},{quotePeriodKey:1,periodText:"1 Month"},{quotePeriodKey:2,periodText:"3 Months"},{quotePeriodKey:3,periodText:"6 Months"},{quotePeriodKey:4,periodText:"1 Year"},{quotePeriodKey:5,periodText:"3 Years"},{quotePeriodKey:6,periodText:"5 Years"},{quotePeriodKey:7,periodText:"10 Years"}],this.selQuotePeriod=this.quotePeriods[0]}replacePortfolioSymbol(n){return ot.isPortfolioSymbol(n)?"SymbolId":n}quotePeriodChanged(){this.updateQuotes(this.selQuotePeriod.quotePeriodKey)}isIntraDayDataAvailiable(n){return ot.isIntraDayDataAvailiable(n)}isPortfolioSymbol(n){return!!n&&ot.isPortfolioSymbol(n.symbol)}compIndexUpdate(n,o){n?this.chartPoints.filter(a=>a.name===o).length>0?(this.chartPoints.filter(a=>a.name===o)[0].chartPointList=this.createChartPoints(o),this.chartPoints=[...this.chartPoints]):(this.chartPoints.push({name:o,xScaleHeight:20,yScaleWidth:50,chartPointList:this.createChartPoints(o)}),this.chartPoints=[...this.chartPoints]):this.chartPoints=this.chartPoints.filter(a=>a.name!==o)}createChartPoints(n){return this.compIndexes.get(n).map(o=>({x:new Date(Date.parse(o.timestamp)),y:o.close}))}updateSymbolData(){const n=this.quotes&&this.quotes.length>0?this.quotes.filter(o=>0===this.selQuotePeriod.quotePeriodKey&&new Date(o.timestamp).getTime()>new Date(this.quotes[this.quotes.length-1].timestamp).getTime()-this.dayInMs+this.hourInMs||0!==this.selQuotePeriod.quotePeriodKey):null;this.symbolData.start=n&&n.length>0?new Date(n[0].timestamp):null,this.symbolData.end=n&&n.length>0?new Date(n[n.length-1].timestamp):null,this.symbolData.open=n&&n.length>0?n[0].open:null,this.symbolData.close=n&&n.length>0?n[n.length-1].close:null,this.symbolData.high=n&&n.length>0?Math.max(...n.map(o=>o.high)):null,this.symbolData.low=n&&n.length>0?Math.min(...n.map(o=>o.low)):null,this.symbolData.avgVolume=n&&n.length>0?n.map(o=>o.volume).reduce((o,a)=>o+a,0)/n.length:null,this.symbolData.avgClose=n&&n.length>0?n.map(o=>o.close).reduce((o,a)=>o+a,0)/n.length:null,this.symbolData.medianClose=n&&n.length>0?n.map(o=>o.close).sort((o,a)=>o-a)[Math.round(n.length/2)]:null,this.symbolData.volatilityClose=this.calcVolatility(n)}calcVolatility(n){if(!n||n.length<1)return 0;const o=[];for(let r=1;r<n.length;r++){const l=Math.log(n[r].close)-Math.log(n[r-1].close);o.push(l)}const a=o.map(r=>r*r).reduce((r,l)=>r+l,0);return Math.sqrt(a)}updateChartData(){this.chartPoints=[{name:this.symbol.symbol,chartPointList:this.createChartValues(),xScaleHeight:20,yScaleWidth:50}],this.compIndexUpdate(this.showMsciCH,v.v.MSCI_CHINA),this.compIndexUpdate(this.showES50,v.v.EUROSTOXX50),this.compIndexUpdate(this.showSP500,v.v.SP500),this.chartPoints=[...this.chartPoints]}createChartValues(){return this.quotes.filter(o=>0===this.selQuotePeriod.quotePeriodKey&&new Date(o.timestamp).getTime()>new Date(this.quotes[this.quotes.length-1].timestamp).getTime()-this.dayInMs+this.hourInMs||0!==this.selQuotePeriod.quotePeriodKey).map(o=>({x:new Date(Date.parse(o.timestamp)),y:o.close}))}updateQuotes(n){if(this.symbol)if(0===n)this.loadingData.emit(!0),this.quotesLoading=!0,this.quoteService.getIntraDayQuotes(this.symbol.symbol).subscribe(o=>{this.quotes=o,this.updateSymbolData(),this.updateChartData(),this.loadingData.emit(!1),this.quotesLoading=!1});else{this.loadingData.emit(!0),this.quotesLoading=!0;const o=this.createStartDate(n),a=new Date;this.quoteService.getDailyQuotesFromStartToEnd(this.symbol.symbol,o,a).subscribe(r=>{this.quotes=r,this.updateSymbolData(),ot.isPortfolioSymbol(this.symbol.symbol)?(console.log("add comparison index quotes."),(0,po.D)([this.quoteService.getDailyQuotesForComparisonIndexFromStartToEnd(this.portfolioId,v.v.EUROSTOXX50,o,a),this.quoteService.getDailyQuotesForComparisonIndexFromStartToEnd(this.portfolioId,v.v.MSCI_CHINA,o,a),this.quoteService.getDailyQuotesForComparisonIndexFromStartToEnd(this.portfolioId,v.v.SP500,o,a)]).subscribe(([l,u,_])=>{this.compIndexes.set(v.v.EUROSTOXX50,l),this.compIndexes.set(v.v.MSCI_CHINA,u),this.compIndexes.set(v.v.SP500,_),this.updateChartData(),this.loadingData.emit(!1),this.quotesLoading=!1})):(this.showES50=!1,this.showMsciCH=!1,this.showSP500=!1,this.updateChartData(),this.loadingData.emit(!1),this.quotesLoading=!1)})}}createStartDate(n){const o=new Date;return 1===n?o.setMonth(o.getMonth()-1):2===n?o.setMonth(o.getMonth()-3):3===n?o.setMonth(o.getMonth()-6):4===n?o.setMonth(o.getMonth()-12):5===n?o.setMonth(o.getMonth()-36):6===n?o.setMonth(o.getMonth()-60):7===n&&o.setMonth(o.getMonth()-120),o}set symbol(n){n&&(this.selQuotePeriod=ot.isIntraDayDataAvailiable(n)||this.selQuotePeriod!==this.quotePeriods[0]?this.selQuotePeriod:this.quotePeriods[1],this.localSymbol=n,this.portfolioName=this.isPortfolioSymbol(n)?n.name:null,this.portfolioSymbol=this.isPortfolioSymbol(n)?n.symbol:null,this.updateQuotes(this.selQuotePeriod?this.selQuotePeriod.quotePeriodKey:0))}get symbol(){return this.localSymbol}}return t.\u0275fac=function(n){return new(n||t)(i.Y36(v.P),i.Y36(Y.K0),i.Y36(i.soG))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-symbol"]],inputs:{portfolioId:"portfolioId",symbol:"symbol"},outputs:{loadingData:"loadingData"},decls:53,vars:52,consts:function(){let e,n,o,a,r,l,u,_,h,f,p,M,y,F,$,x;return e="Symbol: " + "\ufffd0\ufffd" + " Name: " + "\ufffd1\ufffd" + "",n="Start Date: " + "\ufffd0\ufffd" + "",o="End Date: " + "\ufffd0\ufffd" + "",a="Open: " + "\ufffd0\ufffd" + "",r="High: " + "\ufffd0\ufffd" + "",l="Low: " + "\ufffd0\ufffd" + "",u="Close: " + "\ufffd0\ufffd" + "",_="Average Volume: " + "\ufffd0\ufffd" + "",h="Average Close: " + "\ufffd0\ufffd" + "",f="Median Close: " + "\ufffd0\ufffd" + "",p="Volatility Close: " + "\ufffd0\ufffd" + "%",M="Pick your timeframe:",y="Pick your comparison index:",F="EuroStoxx 50",$="Msci China",x="S&P 500",[[1,"base-container"],[1,"text-container"],e,[1,"symbol-data"],n,o,a,r,l,u,_,h,f,p,["id","my-radio-group-label"],M,["aria-labelledby","my-radio-group-label",1,"my-radio-group",3,"ngModel","change","ngModelChange"],["class","my-radio-button",3,"value","disabled",4,"ngFor","ngForOf"],["id","my-checkbox-group-label"],y,[1,"my-checkbox",3,"ngModel","disabled","ngModelChange","change"],F,$,x,["class","chart-container center-div",4,"ngIf"],["class","chart-container",4,"ngIf"],[1,"my-radio-button",3,"value","disabled"],[1,"chart-container","center-div"],["i18",""],[1,"chart-container"],["chartContainer",""],[3,"chartPoints","replaceName","replaceSymbol"]]},template:function(n,o){1&n&&(i.TgZ(0,"div",0),i.TgZ(1,"div"),i.TgZ(2,"div",1),i.SDv(3,2),i.qZA(),i.TgZ(4,"div",1),i.TgZ(5,"span",3),i.SDv(6,4),i.ALo(7,"date"),i.qZA(),i.TgZ(8,"span",3),i.SDv(9,5),i.ALo(10,"date"),i.qZA(),i.TgZ(11,"span",3),i.SDv(12,6),i.ALo(13,"number"),i.qZA(),i.TgZ(14,"span",3),i.SDv(15,7),i.ALo(16,"number"),i.qZA(),i.TgZ(17,"span",3),i.SDv(18,8),i.ALo(19,"number"),i.qZA(),i.TgZ(20,"span",3),i.SDv(21,9),i.ALo(22,"number"),i.qZA(),i.qZA(),i.TgZ(23,"div",1),i.TgZ(24,"span",3),i.SDv(25,10),i.ALo(26,"number"),i.qZA(),i.TgZ(27,"span",3),i.SDv(28,11),i.ALo(29,"number"),i.qZA(),i.TgZ(30,"span",3),i.SDv(31,12),i.ALo(32,"number"),i.qZA(),i.TgZ(33,"span",3),i.SDv(34,13),i.ALo(35,"number"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(36,"div",1),i.TgZ(37,"label",14),i.SDv(38,15),i.qZA(),i.TgZ(39,"mat-radio-group",16),i.NdJ("change",function(){return o.quotePeriodChanged()})("ngModelChange",function(r){return o.selQuotePeriod=r}),i.YNc(40,So,2,3,"mat-radio-button",17),i.qZA(),i.qZA(),i.TgZ(41,"div",1),i.TgZ(42,"label",18),i.SDv(43,19),i.qZA(),i.TgZ(44,"span"),i.TgZ(45,"mat-checkbox",20),i.NdJ("ngModelChange",function(r){return o.showES50=r})("change",function(r){return o.compIndexUpdate(r.checked,o.ComparisonIndex.EUROSTOXX50)}),i.SDv(46,21),i.qZA(),i.TgZ(47,"mat-checkbox",20),i.NdJ("ngModelChange",function(r){return o.showMsciCH=r})("change",function(r){return o.compIndexUpdate(r.checked,o.ComparisonIndex.MSCI_CHINA)}),i.SDv(48,22),i.qZA(),i.TgZ(49,"mat-checkbox",20),i.NdJ("ngModelChange",function(r){return o.showSP500=r})("change",function(r){return o.compIndexUpdate(r.checked,o.ComparisonIndex.SP500)}),i.SDv(50,23),i.qZA(),i.qZA(),i.qZA(),i.YNc(51,Mo,3,0,"div",24),i.YNc(52,Po,3,3,"div",25),i.qZA()),2&n&&(i.xp6(3),i.pQV(o.symbol?o.replacePortfolioSymbol(o.symbol.symbol):"none")(o.symbol?o.symbol.name:"none"),i.QtT(3),i.xp6(4),i.pQV(i.xi3(7,22,null==o.symbolData?null:o.symbolData.start,"mediumDate")),i.QtT(6),i.xp6(3),i.pQV(i.xi3(10,25,null==o.symbolData?null:o.symbolData.end,"mediumDate")),i.QtT(9),i.xp6(3),i.pQV(i.xi3(13,28,null==o.symbolData?null:o.symbolData.open,"1.2-2")),i.QtT(12),i.xp6(3),i.pQV(i.xi3(16,31,null==o.symbolData?null:o.symbolData.high,"1.2-2")),i.QtT(15),i.xp6(3),i.pQV(i.xi3(19,34,null==o.symbolData?null:o.symbolData.low,"1.2-2")),i.QtT(18),i.xp6(3),i.pQV(i.xi3(22,37,null==o.symbolData?null:o.symbolData.close,"1.2-2")),i.QtT(21),i.xp6(4),i.pQV(i.xi3(26,40,null==o.symbolData?null:o.symbolData.avgVolume,"1.0-0")),i.QtT(25),i.xp6(3),i.pQV(i.xi3(29,43,null==o.symbolData?null:o.symbolData.avgClose,"1.2-2")),i.QtT(28),i.xp6(3),i.pQV(i.xi3(32,46,null==o.symbolData?null:o.symbolData.medianClose,"1.2-2")),i.QtT(31),i.xp6(3),i.pQV(o.symbolData.volatilityClose?i.xi3(35,49,100*o.symbolData.volatilityClose,"1.2-2"):""),i.QtT(34),i.xp6(4),i.Q6J("ngModel",o.selQuotePeriod),i.xp6(1),i.Q6J("ngForOf",o.quotePeriods),i.xp6(5),i.Q6J("ngModel",o.showES50)("disabled",o.quotesLoading||!o.isPortfolioSymbol(o.symbol)),i.xp6(2),i.Q6J("ngModel",o.showMsciCH)("disabled",o.quotesLoading||!o.isPortfolioSymbol(o.symbol)),i.xp6(2),i.Q6J("ngModel",o.showSP500)("disabled",o.quotesLoading||!o.isPortfolioSymbol(o.symbol)),i.xp6(2),i.Q6J("ngIf",!o.symbol),i.xp6(1),i.Q6J("ngIf",o.symbol))},directives:[Ot.VQ,Le.JJ,Le.On,Y.sg,Ot.U0,Rt.oG,Y.O5,_o],pipes:[Y.uU,Y.JJ],styles:[".invisible-div[_ngcontent-%COMP%]{display:none}.my-radio-group[_ngcontent-%COMP%], .my-radio-button[_ngcontent-%COMP%]{margin:0 10px}.my-checkbox[_ngcontent-%COMP%]{margin-left:10px}.symbol-data[_ngcontent-%COMP%]{margin-right:10px}.text-container[_ngcontent-%COMP%]{margin-bottom:10px}.chart-container[_ngcontent-%COMP%]{height:calc(100% - 160px);width:100%}.base-container[_ngcontent-%COMP%]{height:100%;width:100%}.center-div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}  .line-sxrt{fill:none!important;stroke:#7cfc00!important;stroke-width:2!important}  .line-icga{fill:none!important;stroke:#eff542!important;stroke-width:2!important}  .line-ivv{fill:none!important;stroke:red!important;stroke-width:2!important}"]}),t})();function Co(t,e){1&t&&(i.TgZ(0,"span",13),i._UZ(1,"mat-progress-spinner",14),i.qZA())}function Lo(t,e){1&t&&(i.TgZ(0,"span",15),i.SDv(1,16),i.qZA())}function vo(t,e){if(1&t){const n=i.EpF();i.TgZ(0,"mat-action-list"),i.TgZ(1,"div",17),i.TgZ(2,"button",18),i.NdJ("click",function(){const r=i.CHM(n).$implicit;return i.oxw().selectSymbol(r)}),i._uU(3),i.qZA(),i.qZA(),i.qZA()}if(2&t){const n=e.$implicit;i.xp6(3),i.Oqu(n.name)}}const Fo=function(t){return{"height.px":t}},Do=[{path:"portfolio/:portfolioId",component:(()=>{class t{constructor(n,o,a,r,l){this.route=n,this.tokenService=o,this.portfolioService=a,this.router=r,this.changeDetectorRef=l,this.symbols=[],this.reloadData=!1,this.windowHeight=0,this.portfolioName="",this.selSymbol=null,this.portfolioId=null}ngOnInit(){this.windowHeight=window.innerHeight-84,this.routeParamSubscription=this.route.paramMap.pipe((0,It.b)(()=>this.reloadData=!0),(0,It.b)(n=>this.portfolioId=parseInt(n.get("portfolioId"))),(0,Oo.w)(n=>this.portfolioService.getPortfolioById(parseInt(n.get("portfolioId")))),(0,It.b)(()=>this.reloadData=!1)).subscribe(n=>{this.symbols=n.symbols,this.portfolioName=n.name})}ngOnDestroy(){this.routeParamSubscription.unsubscribe()}updateReloadData(n){this.reloadData=n,this.changeDetectorRef.detectChanges()}selectSymbol(n){this.selSymbol=n}back(){this.router.navigate(["/portfolios/overview"])}logout(){this.tokenService.logout()}}return t.\u0275fac=function(n){return new(n||t)(i.Y36(_t.gz),i.Y36(mo.B),i.Y36(To.M),i.Y36(_t.F0),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-portfolio"]],decls:17,vars:9,consts:function(){let e,n,o,a;return e="Portfolio " + "\ufffd0\ufffd" + "",n="Back",o="Logout",a="loading...",[["color","primary"],e,[1,"example-fill-remaining-space"],["class","custom-spinner",4,"ngIf"],["class","spinner-text",4,"ngIf"],["mat-button","",3,"click"],n,o,[1,"container",3,"ngStyle"],["opened","","mode","side",1,"symbol-list"],[4,"ngFor","ngForOf"],["opened","","mode","side"],[3,"portfolioId","symbol","loadingData"],[1,"custom-spinner"],["diameter","32","mode","indeterminate","color","primary"],[1,"spinner-text"],a,[1,"symbol-line"],["mat-list-item","",3,"click"]]},template:function(n,o){1&n&&(i.TgZ(0,"mat-toolbar",0),i.TgZ(1,"span"),i.SDv(2,1),i.qZA(),i._UZ(3,"span",2),i.YNc(4,Co,2,0,"span",3),i.YNc(5,Lo,2,0,"span",4),i.TgZ(6,"span"),i.TgZ(7,"button",5),i.NdJ("click",function(){return o.back()}),i.SDv(8,6),i.qZA(),i.qZA(),i.TgZ(9,"span"),i.TgZ(10,"button",5),i.NdJ("click",function(){return o.logout()}),i.SDv(11,7),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"mat-sidenav-container",8),i.TgZ(13,"mat-sidenav",9),i.YNc(14,vo,4,1,"mat-action-list",10),i.qZA(),i.TgZ(15,"mat-sidenav-content",11),i.TgZ(16,"app-symbol",12),i.NdJ("loadingData",function(r){return o.updateReloadData(r)}),i.qZA(),i.qZA(),i.qZA()),2&n&&(i.xp6(2),i.pQV(o.portfolioName),i.QtT(2),i.xp6(2),i.Q6J("ngIf",o.reloadData),i.xp6(1),i.Q6J("ngIf",o.reloadData),i.xp6(7),i.Q6J("ngStyle",i.VKq(7,Fo,o.windowHeight)),i.xp6(2),i.Q6J("ngForOf",o.symbols),i.xp6(2),i.Q6J("portfolioId",o.portfolioId)("symbol",o.selSymbol))},directives:[Yt.Ye,Y.O5,xt.Ou,$t.lW,it.TM,Y.PC,it.JX,Y.sg,mt.i$,mt.Tg,it.Rh,yo],styles:["table[_ngcontent-%COMP%]{width:100%}.symbol-list[_ngcontent-%COMP%]{width:300px;overflow-x:hidden;overflow-y:auto}.symbol-list[_ngcontent-%COMP%]   .symbol-line[_ngcontent-%COMP%]{display:flex;align-items:center}.symbol-list[_ngcontent-%COMP%]   .symbol-line[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{width:56px}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.custom-spinner[_ngcontent-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#fff!important}.spinner-text[_ngcontent-%COMP%]{font-size:14px;margin-left:20px}.mat-table[_ngcontent-%COMP%]{overflow:auto}.example-fill-remaining-space[_ngcontent-%COMP%]{flex:1 1 auto}"]}),t})()}];let No=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[_t.Bz.forChild(Do)],_t.Bz]}),t})(),bo=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[Fe.Y,De,go,Rt.p9,Ot.Fk,mt.ie,xt.Cq,it.SJ,Yt.g0,Ne.Ps,be.lN,$t.ot,No]]}),t})()}}]);