<mat-toolbar color="primary">
	<span i18n>Portfolio Manager</span>
	<span class="example-fill-remaining-space"></span>
	<span class="custom-spinner" *ngIf="importingSymbols">
		<mat-progress-spinner
					diameter="32" 
					mode="indeterminate"
					color="primary">
		</mat-progress-spinner>
	</span>
	<span><button mat-button (click)="importSymbols()" i18n>Import Symbols</button></span>
	<span><button mat-button (click)="logout()" i18n>Logout</button></span>
</mat-toolbar>
<mat-sidenav-container class="container" [ngStyle]="{'height.px': windowHeight}">
  <mat-sidenav opened mode="side" class="portfolio-list">
  	<div class="new-portfolio">
  		<button mat-raised-button (click)="newPortfolio()" i18n>New Portfolio</button>
  	</div>
  	<mat-action-list *ngFor="let portfolio of portfolios.data">
  		<div class="portfolio-line">
  			<button mat-list-item (click)="selPortfolio(portfolio)">{{ portfolio.name }}</button>
  			<button mat-list-item (click)="addSymbol(portfolio)" class="add-button"><mat-icon>add</mat-icon></button>  			
  		</div> 		
	</mat-action-list>
  </mat-sidenav>
  <mat-sidenav-content opened mode="side">
  	<table mat-table [dataSource]="portfolios">

    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef i18n> Name </th>
      <td mat-cell *matCellDef="let element"> {{element.name}} </td>
    </ng-container>

    <ng-container matColumnDef="stocks">
      <th mat-header-cell *matHeaderCellDef i18n> Stocks </th>
      <td mat-cell *matCellDef="let element"> {{ !element.symbols ? 0 : element.symbols.length}} </td>
    </ng-container>

    <ng-container matColumnDef="month1">
      <th mat-header-cell *matHeaderCellDef i18n> 1 Month </th>
      <td mat-cell *matCellDef="let element"> {{element.month1}} </td>
    </ng-container>

    <ng-container matColumnDef="month6">
      <th mat-header-cell *matHeaderCellDef i18n> 6 Months </th>
      <td mat-cell *matCellDef="let element"> {{element.month6}} </td>
    </ng-container>

	<ng-container matColumnDef="year1">
      <th mat-header-cell *matHeaderCellDef i18n> 1 Year </th>
      <td mat-cell *matCellDef="let element"> {{element.year1}} </td>
    </ng-container>

	<ng-container matColumnDef="year2">
      <th mat-header-cell *matHeaderCellDef i18n> 2 Year </th>
      <td mat-cell *matCellDef="let element"> {{element.year2}} </td>
    </ng-container>

	<ng-container matColumnDef="year5">
      <th mat-header-cell *matHeaderCellDef i18n> 5 Year </th>
      <td mat-cell *matCellDef="let element"> {{element.year5}} </td>
    </ng-container>

	<ng-container matColumnDef="year10">
      <th mat-header-cell *matHeaderCellDef i18n> 10 Year </th>
      <td mat-cell *matCellDef="let element"> {{element.year10}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selPortfolio(row)"></tr>
  </table>
  </mat-sidenav-content>
</mat-sidenav-container>
<div style="display:none">
	<span id="onlineAgainMsg" i18n="@@onlineAgainMsg">Your token is expired. To reconnect please logout and login again.</span>
</div>
